<div class = "page-header">
  <h2>EDIT USER</h2>
</div>

<br>

<ul class = "nav nav-tabs">
  <li role = "presentation" ng-click="edit.namePhase()" ng-class="nameTab"><a href = "#">Name</a></li>
  <li role = "presentation" ng-click="edit.usernamePhase()" ng-class="usernameTab"><a href = "#">Username</a></li>
  <li role = "presentation" ng-click="edit.emailPhase()" ng-class="emailTab"><a href = "#">Email</a></li>
  <li role = "presentation" ng-click="edit.permissionsPhase()" ng-class="permissionsTab"><a href = "#">Permissons</a></li>
</ul>


<!-- Phase one: name -->
<form name = "edit.nameForm" ng-show = "edit.phase1" ng-submit="edit.updateName(newName, edit.nameForm.$valid)" nonvalidate >
  <div ng-class="{'has-success':(edit.nameForm.name.$valid && !edit.nameForm.name.$pristine), 'has-error':(!edit.nameForm.name.$valid && !edit.nameForm.name.$pristine) ||(!edit.nameForm.name.$valid && edit.nameForm.$submitted)}">
    <label>Name:</label>
    <input ng-disabled ="app.disabled" type = "text" class="form-control" name = "name" placeholder="Please enter a name" ng-model='newName'
     ng-patter='/^(([a-zA-Z]{3,20})+[ ]+([a-zAiZ]{3,20})+)+$/' ng-minlength ="3" ng-maxlength="20" required>
    <p class = "help-block" ng-show="(!edit.nameForm.name.$pristine && edit.nameForm.name.$error.required)|| (edit.nameForm.$submitted && edit.nameForm.name.$error.required)">This feild is required</p>
    <ul ng-show="(!edit.nameForm.name.$pristine && edit.nameForm.name.$error.pattern)||
    (!edit.nameForm.name.$pristine && edit.nameForm.name.$error.minlength) || (!edit.nameForm.name.$pristine && edit.nameForm.name.$error.maxlength)" class = "help block">
      <li>Must have a space between first and Last name</li>
      <li>Must NOT containt special characters</li>
      <li>Must NOT containt any numbers</li>
      <li>Must be between 3 to 20 characters</li>
    </ul>
  </div>

  <button ng-disabled ="edit.disabled" type = "submit" class ="btn btn-primary">Update</button><br>
</form>
<!-- Phase two: Username -->

<!-- Phase three: EMail -->

<!-- Phase Four: Permision -->


<br>
<div class = "row show-hide-message" ng-show='edit.successMsg'>
  <div class = "alert alert-success">{{edit.successMsg}}</div>
</div>
<br>
<div class = "row show-hide-message" ng-show='edit.errorMsg'>
  <div class = "alert alert-danger">{{edit.errorMsg}}</div>
</div>
